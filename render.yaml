services:
  # Nginx Load Balancer
  - type: web
    name: partyst-loadbalancer
    env: docker
    dockerfilePath: ./Dockerfile
    region: oregon
    plan: free
    branch: main
    healthCheckPath: /health
    autoDeploy: true
    envVars:
      - key: PORT
        value: "10000"

# Informaci칩n sobre los nodos del backend que ser치n balanceados
# Estos deben estar desplegados separadamente:
#
# Nodo 1: partyst-backend-1.onrender.com
# Nodo 2: partyst-backend-2.onrender.com
# Nodo 3: partyst-backend-3.onrender.com
#
# El load balancer distribuir치 el tr치fico entre estos 3 nodos
# usando el algoritmo "least_conn" (menos conexiones activas)
